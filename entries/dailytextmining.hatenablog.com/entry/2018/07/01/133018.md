---
Title: 2018/6/30ã€8æ—¥ç›®ã€‘ãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹ã®æ§‹é€ ã‚’è€ƒãˆã‚‹
Category:
- 180æ—¥é–“ãƒ†ã‚­ã‚¹ãƒˆãƒã‚¤ãƒ‹ãƒ³ã‚°
Date: 2018-07-01T13:30:18+09:00
URL: https://dailytextmining.hatenablog.com/entry/2018/07/01/133018
EditURL: https://blog.hatena.ne.jp/rimt/dailytextmining.hatenablog.com/atom/entry/10257846132596955364
---

æœ¬æ—¥ã€ä¸€æ—¥ä¸­MySQLã‚’è§¦ã£ã¦ã„ãŸã®ã§ã™ãŒï¼ˆã»ã¨ã‚“ã©ã‚¨ãƒ©ãƒ¼å¯¾å¿œï¼‰ã€ã›ã£ã‹ããªã®ã§Pythonã¨é€£æºã•ã›ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

ã²ã¨ã¾ãšä½œã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹ã®è¨­è¨ˆã‹ã‚‰ã¯ã˜ã‚ã¦ã¿ã¾ã™ã€‚

##ãƒ‡ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ¼ã‚¹ã®è¨­è¨ˆ
Twitter APIã§ã©ã‚“ãªæƒ…å ±ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹å†ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚
å–å¾—ã§ãã‚‹æƒ…å ±ã®ãƒªã‚¹ãƒˆã¯ä¸‹è¨˜ã®å…¬å¼æƒ…å ±ã‹ã‚‰ã€‚

Twitter APIãƒšãƒ¼ã‚¸

[https://developer.twitter.com/en/docs/tweets/timelines/api-reference/get-statuses-user_timeline.html]


åˆ†æã«ä½¿ãˆãã†ãªã®ãŒä¸‹è¨˜ã®Responseã§ã™ã€‚è©¦ã—ã«printã§å‡ºåŠ›ã—ã¦ã¿ã¾ã™ã€‚

- created_at
- text
- screen_name
- followers_count
- friends_count
- statuses_count
- listed_count
- favourites_count
- listed_count
- retweet_count
- favorite_count

````python
for i in range(1):
    if res.status_code == 200:
        for tweet in timeline:
            print(tweet["created_at"])
            print(tweet["text"])
            print(tweet["user"]["screen_name"])
            print(tweet["user"]["followers_count"])
            print(tweet["user"]["friends_count"])
            print(tweet["user"]["statuses_count"])
            print(tweet["user"]["listed_count"])
            print(tweet["user"]["favourites_count"])
            print(tweet["user"]["listed_count"])
            print(tweet["retweet_count"])
            print(tweet["favorite_count"])
````

å®Ÿè¡Œçµæœã€‚

```
Fri Jun 29 08:35:14 +0000 2018
æ¢…é›¨æ˜ã‘ã ãƒ¼ãƒ¼ãƒ¼ğŸ¸ï¼ï¼ï¼ï¼ï¼
æš‘ã„å®Ÿã«æš‘ã„ã€ã€ğŸ”¥ğŸŒ
æš‘ã•ã«ã¿ãªã•ã‚“ãŒè² ã‘ã¾ã›ã‚“ã‚ˆã†ã«...
ë”ìš°ë‹ˆê¹Œ ì—´ì‹¬íˆ ğŸ˜ŠğŸ‘âœ¨ï¼ https://t.co/3PY5LyXNG3
48_asainanami
9845
91
89
260
77
260
195
879
```
ã†ãƒ¼ã‚“ã€æ•°å­—ãŒä¸¦ã‚“ã§ã„ã‚‹ã ã‘ãªã®ã§ã‚ã‹ã‚Šãšã‚‰ã„ã§ã™ã­ã€‚printæ–‡ã«ã¡ã‚‡ã£ã¨æƒ…å ±ã‚’åŠ ãˆã¦ã¿ã¾ã™ã€‚

```python
for i in range(1):
    if res.status_code == 200:
        for tweet in timeline:
            print("æ—¥ä»˜ï¼š" + tweet["created_at"])
            print(â€œãƒ„ã‚£ãƒ¼ãƒˆï¼šâ€ + tweet["text"])
            print("åå‰ï¼š" + tweet["user"]["screen_name"])
            print("ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ï¼š" + tweet["user"]["followers_count"])
            print(â€œãƒ•ã‚©ãƒ­ãƒ¼æ•°ï¼š" + tweet["user"]["friends_count"])
            print(â€œãƒ„ã‚£ãƒ¼ãƒˆã—ãŸæ•°" + tweet["user"]["statuses_count"])
            print("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªã‚¹ãƒˆæ•°" + tweet["user"]["listed_count"])
            print("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚¡ãƒœãƒ©ã‚¤ãƒˆã—ãŸæ•°" + tweet["user"]["favourites_count"])
            print("ãƒªãƒ„ã‚¤ãƒ¼ãƒˆæ•°" + tweet["retweet_count"])
            print("ãƒ•ã‚¡ãƒœãƒ©ã‚¤ãƒˆæ•°" + tweet["favorite_count"])
```
```
TypeError: must be str, not int
```
ã‚¨ãƒ©ãƒ¼ãŒèµ·ã“ã‚Šã¾ã—ãŸã€‚ãã†ã§ã—ãŸã€‚æ•°å€¤å‹ã¨æ–‡å­—åˆ—å‹ã¯çµåˆã§ããªã„ã‚“ã§ã™ã­ã€‚
str()ã§å›²ã‚“ã§ã‚ã’ã‚‹ã¨æ–‡å­—åˆ—å‹ã«å¤‰æ›ã•ã‚Œã‚‹ãã†ã§ã™ã€‚

```python
for i in range(1):
    if res.status_code == 200:
        for tweet in timeline:
            print("æ—¥ä»˜ï¼š" + str(tweet["created_at"]))
            print("ãƒ„ã‚£ãƒ¼ãƒˆï¼š" + tweet["text"])
            print("åå‰ï¼š" + tweet["user"]["screen_name"])
            print("ãƒ„ã‚£ãƒ¼ãƒˆæ•°ï¼š" + str(tweet["user"]["statuses_count"]))
            print("ãƒ•ã‚©ãƒ­ãƒ¼æ•°ï¼š" + str(tweet["user"]["friends_count"]))
            print("ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ï¼š" + str(tweet["user"]["followers_count"]))
            print("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªã‚¹ãƒˆæ•°ï¼š" + str(tweet["user"]["listed_count"]))
            print("ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚¡ãƒœãƒ©ã‚¤ãƒˆæ•°ï¼š" + str(tweet["user"]["favourites_count"]))
            print("ãƒªãƒ„ã‚¤ãƒ¼ãƒˆæ•°ï¼š" + str(tweet["retweet_count"]))
            print("ãƒ•ã‚¡ãƒœãƒ©ã‚¤ãƒˆæ•°ï¼š" + str(tweet["favorite_count"]))
```

å®Ÿè¡Œçµæœ

```
æ—¥ä»˜ï¼šFri Jun 29 08:35:14 +0000 2018
ãƒ„ã‚£ãƒ¼ãƒˆï¼šæ¢…é›¨æ˜ã‘ã ãƒ¼ãƒ¼ãƒ¼ğŸ¸ï¼ï¼ï¼ï¼ï¼
æš‘ã„å®Ÿã«æš‘ã„ã€ã€ğŸ”¥ğŸŒ
æš‘ã•ã«ã¿ãªã•ã‚“ãŒè² ã‘ã¾ã›ã‚“ã‚ˆã†ã«...
ë”ìš°ë‹ˆê¹Œ ì—´ì‹¬íˆ ğŸ˜ŠğŸ‘âœ¨ï¼ https://t.co/3PY5LyXNG3
åå‰ï¼š48_asainanami
ãƒ„ã‚£ãƒ¼ãƒˆæ•°ï¼š89
ãƒ•ã‚©ãƒ­ãƒ¼æ•°ï¼š91
ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ï¼š9845
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªã‚¹ãƒˆæ•°ï¼š260
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚¡ãƒœãƒ©ã‚¤ãƒˆæ•°ï¼š77
ãƒªãƒ„ã‚¤ãƒ¼ãƒˆæ•°ï¼š195
ãƒ•ã‚¡ãƒœãƒ©ã‚¤ãƒˆæ•°ï¼š880
```

ã‚ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã—ãŸã€‚
ãƒªã‚¹ãƒˆæ•°ã¨ã„ã†ã®ãŒä½•ã‚’ç¤ºã—ã¦ã„ã‚‹ã®ã‹è¬ã§ã™ãŒã€ã€ã€ã¾ãã€ã“ã‚Œã‚‚ã„ã¡ãŠã†ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚
ã¨ã‚Šã‚ãˆãšä¿å­˜ã™ã‚‹ä¾¡å€¤ãŒã‚ã‚Šãã†ãªã®ã¯ã“ã‚Œãã‚‰ã„ã‹ã¨ã€‚
ç”»åƒãŒã‚ã‚‹ã‹ã©ã†ã‹ã€ã‚³ãƒ¡ãƒ³ãƒˆæ•°ãŒã©ã®ãã‚‰ã„ã‹ã¯æ•™ãˆã¦ãã‚Œãªã„ã‚“ã§ã™ã­ã€‚

##ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¨­è¨ˆ
ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã—ã¦ã¯ä¸‹è¨˜ã«ãªã‚‹ã®ã‹ã¨æ€ã„ã¾ã™ã€‚

Tableå : ãƒ¡ãƒ³ãƒãƒ¼ã®åå‰
id : int
name :  char(50)
created_data ; daytime
tweet : text
count_tweets : int
count_follows : int
count_followers : int
count_favolites : int
count_lists 
users_favorites : in
retweet : int
favorite : int

æ—©é€Ÿæ˜æ—¥ã‹ã‚‰å®Ÿè£…ã—ã¦ã„ããŸã„ã¨ãŠã‚‚ã„ã¾ã™ã€‚

##ä»Šæ—¥ã®çµæœ
ä»Šæ—¥å‘Ÿã‹ã‚ŒãŸä»¶æ•°ã¯41ä»¶ã§ã—ãŸã€‚
å½¢å®¹è©
'æš‘ã„': 4, 'ãªã„': 4, 'æ¥½ã—ã„': 4, 'å¬‰ã—ã„': 3, 'æ‡ã‹ã—ã„': 2, 'é¢ç™½ã„': 2, 'ãŸã®ã—ã„': 2, 'é…ã„': 1, 'ã‚„ã°ã„': 1, 'è³¢ã„': 1, 'ã†ã‚Œã—ã„': 1, 'å¯æ„›ã„': 1, 'ã™ã”ã„': 1, 'æ–°ã—ã„': 1, 'æ‚”ã—ã„': 1, 'å„ªã—ã„': 1, 'å¿ƒå¼·ã„': 1, 'ã„ã„': 1, 'ã‚‚ã®ã™ã”ã„': 1, 'ã‚„ã™ã„': 1, 'ã»ã—ã„': 1, 'äººæ‡ã£ã“ã„': 1

åè©
'ã•ã‚“': 11, 'æ™‚': 8, 'ä»Šæ—¥': 7, 'ç¥­': 7, 'å†™çœŸ': 6, 'ç¬‘': 6, 'ã¡ã‚ƒã‚“': 6, 'ä¸€ç·’': 5, 'ç”Ÿèª•': 5, 'æš‘ã„': 4, 'ãªã„': 4, 'æ¥½ã—ã„': 4, 'ç§': 4, 'ç”Ÿ': 4, 'ã“ã¨': 4, 'äºº': 4, 'ãƒŸãƒ©ã‚¯ãƒ«': 4, 'å¬‰ã—ã„': 3, 'ã•': 3, 'ã‚“': 3, 'æ™‚é–“': 3, 'æ’®å½±': 3, 'ä¼š': 3, 'ãŸã¡': 3, 'å­': 3, 'åˆ†': 3, 'ã®': 3, 'çš†ã•ã¾': 3, 'å…¬æ¼”': 3, 'ã‚ã¨': 3, 'æ‰‹ç´™': 3, 'æ—¥': 3, 'è¡£è£…': 3, 'ãƒãƒ¼ãƒ ': 3, 'ã›ã„': 3, 'æ„Ÿè¬': 3, 'å‚åŠ ': 3,

å‹•è©
 'ã™ã‚‹': 25, 'ã•ã‚“': 11, 'è¦‹ã‚‹': 9, 'æ™‚': 8, 'ãªã‚‹': 8, 'ä»Šæ—¥': 7, 'ç¥­': 7, 'ãã‚‹': 7, 'ãã ã•ã‚‹': 7, 'å†™çœŸ': 6, 'ç¬‘': 6, 'ã¡ã‚ƒã‚“': 6, 'ã„ã‚‹': 6, 'ä¸€ç·’': 5, 'ç”Ÿèª•': 5, 'ãã‚Œã‚‹': 5, 'ã›ã‚‹': 5, 'æš‘ã„': 4, 'ãªã„': 4, 'æ¥½ã—ã„': 4, 'ç§': 4, 'ç”Ÿ': 4, 'ã“ã¨': 4, 'äºº': 4, 'ãƒŸãƒ©ã‚¯ãƒ«': 4, 'ã‚‚ãˆã‚‹': 4, 'å¬‰ã—ã„': 3, 'ã•': 3, 'ã‚“': 3, 'æ™‚é–“': 3, 'æ’®å½±': 3, 'ä¼š': 3, 'ãŸã¡': 3, 'å­': 3, 'åˆ†': 3, 'ã®': 3, 'çš†ã•ã¾': 3, 'å…¬æ¼”': 3, 'ã‚ã¨': 3, 'æ‰‹ç´™': 3, 'æ—¥': 3, 'è¡£è£…': 3, 'ãƒãƒ¼ãƒ ': 3, 'ã›ã„': 3, 'æ„Ÿè¬': 3, 'å‚åŠ ': 3, 'æ¥ã‚‹': 3, 'è¡Œã': 3, 'æ€ã†': 3, 'ã¦ã‚‹': 3, 'å‘¼ã¶': 3,

##ä»Šæ—¥å­¦ã‚“ã ã“ã¨
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åŸºç¤çš„ãªçŸ¥è­˜ã‚’ä¸€é€šã‚Šã€‚
MySQL Workbenchã®åŸºç¤çš„ãªä½¿ã„æ–¹ã€‚
intå‹ã‹ã‚‰strå‹ã¸ã®å¤‰æ›ã¨çµåˆã®ä»•æ–¹ã€‚
